window.onload = function() {
    
  var form = document.iniciarSesion;
  console.log(form);


  var elementos = form.elements;
for (var i in elementos){
  var elem = elementos[i];
  //console.log(elem);	
  if(elementos[i].name == "email" || elementos[i].name == "password"){
      //elementos[i].onblur = validar;
      elementos[i].onkeypress = permitir;
      if(elementos[i].onkeypress == -1){
        alert("caracter no permitido");
      }
      //console.log(elementos[i]);
  }			
  }
  

  
  document.getElementById("correo").onkeyup = habilitarBoton;
  document.getElementById("pass").onkeyup = habilitarBoton;
 

}


function habilitarBoton(){
  
  console.log("efectivamente");
  var correo = document.getElementById("correo").value;
  var contrasena = document.getElementById("pass").value;
 

  if(correo ==='' || contrasena === '' ){
      
      console.log("entre ome!"); 
      document.getElementById("iniciarSesion").disabled = true;
  }else{
      
      document.getElementById("iniciarSesion").disabled = false;
  }
}

function validar(){
//console.log(this.value);
if(this.value == ""){
  this.focus();
}
}

function permitir(event){
switch(this.name){
  case "email":
          p = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.@1234567890";
          break;
      case "password":
          p = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890 ";
          break;
}

var cod = event.charCode;
var letra = String.fromCharCode(cod);
//console.log(letra);
if(p.indexOf(letra) == -1){
  alert("caracter no permitido");
}
return p.indexOf(letra) != -1;
}



